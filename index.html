<!DOCTYPE html>
<html lang="zh-CN">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>ç²¾å¯†ç©ºè°ƒåŠ¨æ€å¯†ç è®¡ç®—å™¨</title>
    <style>
        * { box-sizing: border-box; margin: 0; padding: 0; font-family: 'Microsoft YaHei', sans-serif; }
        body { background: #1a5f7a; color: #333; min-height: 100vh; display: flex; justify-content: center; align-items: center; padding: 20px; }
        .container { background: white; border-radius: 15px; box-shadow: 0 5px 20px rgba(0,0,0,0.2); width: 100%; max-width: 400px; padding: 25px; }
        h1 { text-align: center; margin-bottom: 20px; color: #1a5f7a; font-size: 22px; }
        .input-group { margin-bottom: 15px; }
        label { display: block; margin-bottom: 8px; font-weight: bold; color: #333; }
        input { width: 100%; padding: 12px; border: 2px solid #ddd; border-radius: 8px; font-size: 16px; text-align: center; }
        input:focus { border-color: #1a5f7a; outline: none; }
        button { background: #1a5f7a; color: white; border: none; border-radius: 8px; padding: 12px; font-size: 16px; cursor: pointer; width: 100%; margin-top: 10px; }
        button:hover { background: #159895; }
        .result { margin-top: 20px; padding: 15px; background: #f0f8ff; border-radius: 8px; text-align: center; display: none; }
        .result.active { display: block; }
        .password { font-size: 32px; font-weight: bold; color: #1a5f7a; margin: 10px 0; }
        .calculation { margin-top: 10px; text-align: left; background: white; padding: 10px; border-radius: 5px; font-size: 13px; }
        .step { margin-bottom: 5px; padding-left: 8px; border-left: 2px solid #1a5f7a; }
        .current-date { text-align: center; margin-bottom: 15px; color: #666; font-size: 14px; }
        .footer { text-align: center; margin-top: 15px; color: #666; font-size: 12px; }
    </style>
</head>
<body>
    <div class="container">
        <h1>ğŸ”§ ç²¾å¯†ç©ºè°ƒåŠ¨æ€å¯†ç è®¡ç®—å™¨</h1>
        <div class="current-date" id="currentDate"></div>
        <div class="input-group">
            <label for="monthDay">è¯·è¾“å…¥æœˆæ—¥ï¼ˆ4ä½æ•°å­—ï¼‰ï¼š</label>
            <input type="text" id="monthDay" placeholder="ä¾‹å¦‚ï¼š0608" maxlength="4">
        </div>
        <button id="calculateBtn">è®¡ç®—åŠ¨æ€å¯†ç </button>
        <div class="result" id="result">
            <h3>è®¡ç®—ç»“æœï¼š</h3>
            <div class="password" id="password"></div>
            <div class="calculation" id="calculation"></div>
        </div>
        <div class="footer">åŸºäºæœˆæ—¥å››ä½æ•°å­—è®¡ç®— | ABCDè®¡ç®—æ³•</div>
    </div>

    <script>
        const now = new Date();
        const month = String(now.getMonth() + 1).padStart(2, '0');
        const day = String(now.getDate()).padStart(2, '0');
        document.getElementById('currentDate').textContent = `ä»Šå¤©æ˜¯${month}æœˆ${day}æ—¥ï¼Œç¤ºä¾‹ï¼š${month}${day}`;
        
        document.getElementById('calculateBtn').addEventListener('click', calculatePassword);
        document.getElementById('monthDay').addEventListener('keypress', function(e) {
            if (e.key === 'Enter') calculatePassword();
        });
        
        function calculatePassword() {
            const monthDay = document.getElementById('monthDay').value.trim();
            if (monthDay.length !== 4 || isNaN(monthDay)) {
                alert('è¯·è¾“å…¥4ä½æ•°å­—ï¼ˆå¦‚0608ï¼‰');
                return;
            }
            
            const digits = monthDay.split('').map(Number);
            const A = (digits[0] + digits[1] + digits[2] + digits[3]) % 10;
            let B = digits[3] - digits[2] - digits[1] - digits[0];
            B = Math.abs(B) % 10;
            const nonZeroDigits = digits.filter(d => d !== 0);
            let C = 1;
            nonZeroDigits.forEach(d => C *= d);
            C = C % 10;
            const D = (A + B + C) % 10;
            const password = `${A}${B}${C}${D}`;
            
            document.getElementById('password').textContent = password;
            document.getElementById('calculation').innerHTML = `
                <div class="step"><strong>è®¡ç®—è¿‡ç¨‹ï¼š</strong></div>
                <div class="step">A = (${digits[0]} + ${digits[1]} + ${digits[2]} + ${digits[3]}) % 10 = ${A}</div>
                <div class="step">B = |${digits[3]} - ${digits[2]} - ${digits[1]} - ${digits[0]}| % 10 = ${B}</div>
                <div class="step">C = (${nonZeroDigits.join(' Ã— ')}) % 10 = ${C}</div>
                <div class="step">D = (${A} + ${B} + ${C}) % 10 = ${D}</div>
            `;
            document.getElementById('result').classList.add('active');
        }
    </script>
</body>
</html>
